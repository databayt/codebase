import { ComponentSource } from "@/components/docs/component-source"

# Sticky Scroll

A scroll-activated component that reveals content progressively as you scroll. Perfect for storytelling, feature showcases, and creating engaging narrative experiences.

## Preview

The sticky scroll component creates a split-view layout where one side remains sticky while the content on the other side changes based on scroll position.

## Installation

### Install dependencies

```bash
pnpm add framer-motion
```

### Copy the component code

<ComponentSource
  fileName="components/atom/sticky-scroll.tsx"
  language="tsx"
  code={`"use client";

import { useRef, useEffect, useState } from "react";
import { motion, useScroll, useTransform } from "framer-motion";

interface StickyScrollProps {
  content: {
    title: string;
    description: string;
    content?: React.ReactNode;
  }[];
  contentClassName?: string;
}

export const StickyScroll = ({ content, contentClassName }: StickyScrollProps) => {
  const [activeCard, setActiveCard] = useState(0);
  const containerRef = useRef<HTMLDivElement>(null);
  const { scrollYProgress } = useScroll({
    target: containerRef,
    offset: ["start start", "end end"],
  });

  const cardLength = content.length;

  useEffect(() => {
    const unsubscribe = scrollYProgress.on("change", (latest) => {
      const cardsBreakpoints = content.map((_, index) => index / cardLength);
      const active = cardsBreakpoints.findIndex((breakpoint) => breakpoint > latest) - 1;
      setActiveCard(active >= 0 ? active : cardLength - 1);
    });

    return () => unsubscribe();
  }, [scrollYProgress, cardLength, content.length]);

  const backgroundColors = [
    "from-red-500/20 to-orange-500/20",
    "from-orange-500/20 to-yellow-500/20",
    "from-yellow-500/20 to-green-500/20",
    "from-green-500/20 to-blue-500/20",
    "from-blue-500/20 to-purple-500/20",
    "from-purple-500/20 to-pink-500/20",
  ];

  return (
    <div
      ref={containerRef}
      className="relative flex h-screen w-full items-center justify-center overflow-hidden rounded-md bg-neutral-950 antialiased"
    >
      <div className="mx-auto flex w-full max-w-7xl flex-col items-center justify-center">
        <div className="grid w-full grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12">
          <div className="flex h-[60vh] w-full items-center justify-center">
            <div className="relative h-full w-full overflow-hidden rounded-md">
              <motion.div
                className="sticky top-0 flex h-full w-full items-center justify-center"
                style={{
                  background: \`linear-gradient(to bottom, \${backgroundColors[activeCard % backgroundColors.length]})\`,
                }}
              >
                <div className="relative z-10 text-center">
                  <h2 className="text-4xl font-bold text-white md:text-6xl">
                    {content[activeCard]?.title}
                  </h2>
                  <p className="mt-4 text-lg text-neutral-300 md:text-xl">
                    {content[activeCard]?.description}
                  </p>
                </div>
              </motion.div>
            </div>
          </div>
          <div className="flex h-[60vh] w-full items-center justify-center">
            <div className="w-full max-w-md">
              {content[activeCard]?.content && (
                <div className={contentClassName}>
                  {content[activeCard].content}
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};`}
/>

## Usage

```tsx
import { StickyScroll } from "@/components/atom/sticky-scroll"

export default function Example() {
  const content = [
    {
      title: "First Feature",
      description: "Description of your first feature",
      content: <div>Custom content for first section</div>,
    },
    {
      title: "Second Feature",
      description: "Description of your second feature",
      content: <div>Custom content for second section</div>,
    },
  ]

  return <StickyScroll content={content} />
}
```

## Examples

### Feature Showcase

```tsx
const features = [
  {
    title: "Collaborative Editing",
    description: "Work together in real-time",
    content: (
      <div className="space-y-4">
        <p className="text-white">Multiple users can edit simultaneously</p>
        <ul className="list-disc list-inside text-white/80">
          <li>Live cursors</li>
          <li>Presence indicators</li>
          <li>Conflict resolution</li>
        </ul>
      </div>
    ),
  },
  {
    title: "Version Control",
    description: "Track every change",
    content: (
      <div className="space-y-4">
        <p className="text-white">Never lose work with automatic versioning</p>
        <ul className="list-disc list-inside text-white/80">
          <li>Auto-save</li>
          <li>History timeline</li>
          <li>Rollback support</li>
        </ul>
      </div>
    ),
  },
]

<StickyScroll content={features} />
```

### Product Story

```tsx
const story = [
  {
    title: "Chapter 1",
    description: "The Beginning",
    content: <img src="/chapter1.jpg" alt="Chapter 1" className="rounded-lg" />,
  },
  {
    title: "Chapter 2",
    description: "The Journey",
    content: <img src="/chapter2.jpg" alt="Chapter 2" className="rounded-lg" />,
  },
  {
    title: "Chapter 3",
    description: "The Destination",
    content: <img src="/chapter3.jpg" alt="Chapter 3" className="rounded-lg" />,
  },
]

<StickyScroll content={story} />
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `content` | `Array<{title: string, description: string, content?: ReactNode}>` | - | Array of content sections to display |
| `contentClassName` | `string` | - | Additional CSS classes for content wrapper |

## Use Cases

- **Product Tours**: Guide users through features step-by-step
- **Storytelling**: Create engaging narrative experiences
- **Timeline Presentations**: Display chronological events
- **Feature Comparisons**: Show before/after scenarios
- **Tutorial Sections**: Educational content with progressive disclosure
- **Portfolio Showcases**: Display work samples with context

## Technical Details

The component uses Framer Motion's `useScroll` hook to track scroll progress and update the active content section. The sticky side uses CSS positioning while the scroll-triggered content changes based on viewport position.

The background colors automatically cycle through a predefined palette of gradient combinations, creating visual variety as users scroll through the content.

## Accessibility

- Semantic HTML structure
- Keyboard navigation support
- Screen reader friendly
- Respects reduced motion preferences
- High contrast text for readability

## Tips

- Use 3-6 content sections for optimal engagement
- Keep title and description concise
- Ensure content area has sufficient contrast
- Test scroll behavior on different screen sizes
- Consider adding scroll indicators for user guidance
