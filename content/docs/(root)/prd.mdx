---
title: PRD
description: Product Requirements Document for Hogwarts School Automation Platform
---

# PRD - Product Requirements Document

**Author:** Product Team | **Date:** January 2024 | **Version:** 1.0

---

## Executive Summary

The global education sector manages over 2 million schools serving 1.5 billion students, yet 78% still rely on paper-based or fragmented digital systems. This inefficiency costs the industry $12B annually in wasted administrative processes, with each administrator losing 40 hours monthly to manual tasks. Meanwhile, 65% of parents express dissatisfaction with school communication, and manual attendance/grade tracking suffers from a 23% error rate.

Hogwarts is envisioned as the world's most comprehensive, accessible, and user-friendly school management platform—a true operating system for educational institutions. We will revolutionize school administration by providing an all-in-one, cloud-based solution that serves schools, teachers, students, and parents globally.

---

## Project Classification

- **Type:** SaaS B2B Multi-Tenant Web Application
- **Domain:** Education Technology (EdTech) - K-12 School Management
- **Complexity:** Level 4 (Enterprise-scale system, 200+ functional requirements, highly regulated domain)
- **Target Users:** School administrators, teachers, students, parents, accountants, staff

### Market Size (Middle East & Africa)

The MEA region represents a high-growth opportunity for school management systems:

**EdTech Market:**

- MEA education technology market: **$14.4B** (2024) → **$33.0B** by 2030 (CAGR ~14.6%)
- Middle East EdTech market: **$11.3B** (2024) → **$27.0B** by 2033 (CAGR ~9.1%)
- K-12 segment holds **44%** of the 2025 cohort, the largest revenue-generating sector
- GCC EdTech market: **$3.02B** (2024) → **$4.47B** by 2030 (CAGR ~6.74%)

**Country Wise:**

| Country | Size | Growth | Notes |
|---------|------|--------|-------|
| Sudan | Emerging | - | Arabic-first target market |
| Saudi Arabia | $2.32B | 12.77% CAGR | Largest MENA market |
| Egypt | $302M | 14.0% CAGR | 234 active EdTech companies |
| South Africa | $929M | 11.78% CAGR | 40% of Africa EdTech 50 |

### Domain Context

The K-12 education sector operates under unique constraints:

- **Regulatory Compliance** - FERPA, COPPA, GDPR, and varying state/regional mandates
- **Accessibility Requirements** - WCAG 2.1 AA compliance, multilingual support, RTL languages, offline capabilities
- **Educational Standards** - National curriculum frameworks, standardized assessment reporting, academic calendar variations
- **Security & Safety** - Child safety protocols, data encryption, multi-tenant isolation, audit trails
- **Financial Complexity** - Multi-currency, complex fee structures, scholarship management, payment gateway integration

---

## TL;DR

SaaS B2B multi-tenant school management system. Next.js 15 + React 19 + TypeScript + Prisma + PostgreSQL. 200+ functional requirements across 12 epics. FERPA/GDPR compliant. Arabic-first with RTL support.

---

## Success Criteria

Success is measured by genuine transformation of educational operations and stakeholder satisfaction.

### Primary Metrics

| Metric | Baseline | Target |
|--------|----------|--------|
| Administrator Time Savings | 40 hours/month lost | 8 hours/month (80% reduction) |
| Parental Engagement | 65% dissatisfaction | 85% satisfaction (NPS) |
| Data Accuracy | 23% error rate | \<1% error rate |
| School Operational Cost | $15K-$50K/year | 60% reduction |
| Teacher Admin Time | 11 hours/week | 4 hours/week (64% reduction) |

### Business Metrics

**Year 1:** 100 schools, $240K ARR, 98% CSAT, \<3% monthly churn

**Year 3:** 2,500 schools, $6M ARR, 85+ NPS, \<1.5% monthly churn

**Year 5:** 15,000 schools across 50+ countries, $36M ARR, IPO-ready metrics

### Impact Milestones

- Zero student data breaches
- 1M+ students having better educational experiences
- 100+ community-contributed features
- Government partnerships in 10+ countries
- Industry recognition as #1 open-source school management system

---

## Product Scope

### MVP (Months 1-12)

Core administrative functionality that makes schools operational from day one:

- Multi-tenant architecture with subdomain-based school isolation
- 8-role RBAC system (Developer, Admin, Teacher, Student, Guardian, Accountant, Staff, User)
- OAuth authentication (Google, Facebook) + email/password + 2FA
- Complete student management (enrollment, profiles, health records, achievements)
- Teacher & staff management (qualifications, workload, departments)
- Subject & class management with timetable builder
- Attendance system (daily, period-wise, QR code check-in)
- Assessment & grading (assignments, gradebook, report cards)
- Fee management (structures, invoicing, payment tracking)
- Communication (announcements, parent portal, email notifications)
- Basic reporting & analytics
- Arabic/English bilingual support (RTL/LTR)
- Mobile-responsive design

**MVP Success Criteria:** A school can enroll students, manage classes, track attendance, grade assignments, collect fees, and communicate with parents—all within a single platform.

---

### Growth Phase (Months 13-24)

- AI-powered predictive analytics
- Digital classroom & LMS
- Comprehensive finance module (double-entry bookkeeping, payroll)
- Examination management
- Library management
- Native mobile applications (React Native)
- Internationalization expansion (French, Spanish, Hindi, Mandarin)
- Regional compliance certifications

---

### Vision (Year 3+)

- AI Teaching Assistant
- Personalized learning paths
- Marketplace & ecosystem
- Blockchain credentials
- VR/AR learning experiences
- District-level management
- Global teacher collaboration network

---

## Technical Overview

**Stack:**

- Frontend: Next.js 15.5.3 (App Router, Turbopack), React 19, TypeScript
- Backend: Next.js API Routes, Edge Runtime compatible
- Database: PostgreSQL + Prisma 6 (library engine)
- Auth: NextAuth v5 (OAuth + credentials + 2FA)
- Styling: Tailwind CSS v4, shadcn/ui components
- i18n: Custom implementation (en, ar with RTL)

**Architecture:**

- Multi-tenant (subdomain-based): `school.domain.com` → `/[lang]/s/school/...`
- Every model has `schoolId` - strict data isolation
- RBAC: 8 roles (Developer, Admin, Teacher, Student, Guardian, Accountant, Staff, User)
- Stateless serverless functions (Vercel)

---

## Multi-Tenancy Pattern

**Critical Security Rule:**

```typescript
// NEVER do this
await prisma.student.findMany()

// ALWAYS scope by schoolId
await prisma.student.findMany({
  where: { schoolId }
})
```

**Data Isolation:**

- `@@unique([schoolId, email])` on all models
- Automated tests verify no cross-tenant leaks
- Audit trails: `schoolId` + `requestId` + `userId` + `timestamp`

**Environment Routing:**

```text
Production:   school.databayt.org → /[lang]/s/school/...
Preview:      tenant---branch.vercel.app → /[lang]/s/tenant/...
Development:  subdomain.localhost:3000 → /[lang]/s/subdomain/...
Custom:       www.theirschool.com (CNAME) → Hogwarts platform
```

---

## Core Features (MVP)

### Authentication & Users (FR-001 to FR-020)

- Email/password + OAuth (Google, GitHub, Facebook)
- 2FA (TOTP), password reset, email verification
- Role-based access control (8 roles)
- Session management (JWT, 24h expiry)

### Student Management (FR-021 to FR-040)

- Enrollment, profiles, health records, achievements
- Guardian links, class enrollment, status transitions
- Document upload, photo management
- Batch operations, CSV import/export

### Teacher & Staff (FR-041 to FR-060)

- Profile, qualifications, departments, workload
- Class assignments, timetable, leave management
- Communication with guardians

### Classes & Subjects (FR-061 to FR-080)

- Subject/class creation, student/teacher assignment
- Timetable builder, capacity limits, sections
- Gradebook, attendance sheet, resources

### Attendance (FR-081 to FR-100)

- Daily + period-wise marking
- Status types: Present, Absent, Late, Excused
- QR code check-in, bulk operations
- Reporting (student/class/school level)

### Additional Modules (TBD)

- Assessment & Grading (FR-101 to FR-130)
- Fee Management (FR-131 to FR-160)
- Finance Module (FR-161 to FR-200)
- Communication (FR-201 to FR-230)
- Analytics (FR-231 to FR-260)
- Admin Settings (FR-261 to FR-300)

See [Epic Breakdown](/docs/epics) for detailed stories.

---

## Functional Requirements Summary

| ID Range | Epic | Status | Priority |
|----------|------|--------|----------|
| FR-001 to FR-020 | Authentication & User Management | In Progress | P0 |
| FR-021 to FR-040 | Student Management | In Progress | P0 |
| FR-041 to FR-060 | Teacher & Staff Management | Planned | P0 |
| FR-061 to FR-080 | Classes & Subjects | Planned | P0 |
| FR-081 to FR-100 | Attendance System | Planned | P0 |
| FR-101 to FR-130 | Assessment & Grading | TBD | P1 |
| FR-131 to FR-160 | Fee Management | TBD | P1 |
| FR-161 to FR-200 | Finance Module | TBD | P2 |
| FR-201 to FR-230 | Communication | TBD | P1 |
| FR-231 to FR-260 | Reporting & Analytics | TBD | P2 |
| FR-261 to FR-300 | Administration & Settings | TBD | P1 |

---

## Role-Based Access Control

| Role | Access Level | Key Permissions |
|------|--------------|-----------------|
| DEVELOPER | Platform Admin | Access all schools, platform configuration, monitoring |
| ADMIN | School Administrator | Full access within school, manage users, financial oversight |
| TEACHER | Instructor | Manage assigned classes, grade assignments, mark attendance |
| STUDENT | Learner | View own grades, attendance, assignments, submit work |
| GUARDIAN | Parent | View linked students' data, pay fees, receive notifications |
| ACCOUNTANT | Financial | Manage finances, generate reports (no academic data) |
| STAFF | Non-teaching | Limited operational module access |
| USER | Default | Minimal access, pending role assignment |

**Permission Matrix:**

- Granular permissions: view/create/edit/delete/approve per feature
- Department-based access: Teachers only see students in their classes
- Data visibility rules: Students see only their own data
- Delegation: Admins can delegate permissions temporarily

---

## Subscription Tiers

| Tier | Price | Limits |
|------|-------|--------|
| FREE | $0 | 100 students, 1GB storage, community support |
| PRO | $1.50/student/month | 10GB, priority support, custom branding, API 1K req/hr |
| ENTERPRISE | $1.00/student/month | Unlimited storage/API, white-label, SLA 99.9%, SSO |

**Billing:** Stripe Subscriptions, monthly/annual (15% discount), 14-day free trial, metered per-student pricing.

---

## API & Integrations

**RESTful API v1:**

- OpenAPI 3.0 spec with Swagger UI
- API key auth + rate limiting (100-unlimited req/hr by tier)
- Webhooks: `student.enrolled`, `payment.received`, `grade.updated`
- HMAC-SHA256 signing, retry logic with exponential backoff

**SSO (Enterprise):**

- SAML 2.0 (Okta, Azure AD, OneLogin)
- OAuth 2.0 (Google Workspace, Microsoft 365)
- SCIM (user provisioning)

**Third-Party Integrations:**

- Google Workspace, Microsoft 365, Zoom
- Stripe (payments), Twilio (SMS), Resend (email)
- QuickBooks/Xero (accounting)
- Canvas, Blackboard, Moodle (LTI)

---

## Non-Functional Requirements

### Performance

- Page load: Initial \<2s (3G), subsequent \<500ms (cached)
- API response: 95th percentile \<500ms, 99th \<1s
- Database queries: No N+1, query time \<100ms for 95%
- Concurrent users: 10,000 per school without degradation
- TTFB: \<200ms via edge caching

### Security

- Data Encryption: AES-256 at rest, TLS 1.3 in transit
- Authentication: Bcrypt (cost 12), JWT (24h), 2FA, rate limiting
- Authorization: RBAC on every route, multi-tenant isolation
- Input Validation: Zod (server-side), SQL injection protection, XSS prevention
- Audit Logging: All modifications logged, 7-year retention

### Scalability

- Database: Prisma connection pooling, Neon Serverless PostgreSQL
- Application: Vercel serverless, stateless architecture, edge caching
- File Storage: S3-compatible (Cloudflare R2), CDN delivery
- Load Testing: Quarterly tests simulating 50K concurrent users

### Accessibility

- WCAG 2.1 AA compliance
- Keyboard navigation, screen reader support
- Color contrast minimum 4.5:1
- Layout adapts to 200% zoom
- Automated checks in CI/CD (axe-core)

### Compliance

- FERPA (US student privacy)
- GDPR (EU data protection)
- COPPA (parental consent \<13 years)
- WCAG 2.1 AA (accessibility)

---

## Design System

**Typography:**

- Arabic: Tajawal
- English: Inter
- Use semantic HTML (`<h1>-<h6>`, `<p>`)
- NO hardcoded `text-*` or `font-*` classes

**Colors (OKLCH):**

- Primary: Blue (#3B82F6)
- Secondary: Amber (#F59E0B)
- Success: Green (#10B981)
- Warning: Orange (#F97316)
- Error: Red (#EF4444)

**Components:**

- shadcn/ui (Radix UI primitives)
- Responsive containers (`layout-container`)
- Dark/light theme (next-themes)

---

## Internationalization & RTL

**Locales:** en, ar

**RTL Support:**

- Bidirectional layouts (mirrors for Arabic)
- Mixed content support
- Date/number localization
- Language toggle (persistent)

**URL Structure:**

```text
/[lang]/path → /en/docs, /ar/docs
/[lang]/s/[school]/path → /en/s/demo/dashboard
```

---

## Implementation Epics

1. **Foundation & Auth** (FR-001 to FR-020)
2. **School Config** (year levels, departments)
3. **Student Management** (FR-021 to FR-040)
4. **Teacher & Staff** (FR-041 to FR-060)
5. **Classes & Subjects** (FR-061 to FR-080)
6. **Attendance** (FR-081 to FR-100)
7. **Assessment** (FR-101 to FR-130) - TBD
8. **Fees** (FR-131 to FR-160) - TBD
9. **Finance** (FR-161 to FR-200) - TBD
10. **Communication** (FR-201 to FR-230) - TBD
11. **Analytics** (FR-231 to FR-260) - TBD
12. **Admin** (FR-261 to FR-300) - TBD

See [Epic Breakdown](/docs/epics) for detailed stories.

---

## Development Approach

**Agile Methodology:**

- 2-week sprints
- Daily standups (async via Slack)
- Sprint planning, review, retrospective
- CI/CD pipeline

**Quality Gates:**

- Code review (minimum 1 approver)
- 80%+ code coverage for critical paths
- No critical/high security vulnerabilities
- All accessibility checks passing
- Performance budgets met (Lighthouse ≥90)

**Tech Debt Management:**

- 20% sprint capacity reserved
- Monthly architecture review
- 6-month deprecation notice for breaking changes

---

## Testing Strategy

**Required:**

- Multi-tenant isolation (automated suite)
- Performance benchmarks (10K concurrent users)
- Security penetration (annual)
- Accessibility audits (quarterly)

**Coverage Targets:**

- Unit tests: 80%+ for business logic
- Integration tests: All API endpoints
- E2E tests: Critical user flows
- Visual regression: Percy or Chromatic

**Testing Pyramid:**

- 70% Unit tests (Jest, React Testing Library)
- 20% Integration tests (Supertest)
- 10% E2E tests (Playwright)

---

## Risk Management

| Risk | Severity | Mitigation |
|------|----------|------------|
| Data breach | Critical | Annual penetration testing, automated scans, bug bounty |
| Multi-tenant data leak | Critical | Automated isolation tests, mandatory schoolId, code review |
| Performance degradation | High | Quarterly load testing, query optimization, caching |
| Regulatory non-compliance | Critical | Legal review, privacy by design, compliance audits |
| Low adoption | High | User research, usability testing, pilot feedback |
| Integration failures | Medium | Webhook retry logic, circuit breakers, monitoring |
| Competitive pressure | Medium | Focus on differentiators, rapid iteration |
| Funding constraints | Medium | Lean MVP, early revenue, cost optimization |

---

## References

- [Architecture](/docs/architecture)
- [Epic Breakdown](/docs/epics)
- [Pattern Documentation](/docs/pattern)
- [MVP](/docs/mvp)

---

_Developer-focused PRD for Hogwarts school management platform._
